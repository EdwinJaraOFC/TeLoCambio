{% extends 'base.html' %}

{% block title %}TeLoCambio - Dashboard{% endblock %}

{% block styles %}
<link rel="shortcut icon" href="{{ url_for('static', filename='img/svg/Logo.svg') }}" type="image/x-icon">
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_styles.min.css')}}">
{% endblock %}

{% block content %}
<div class="layer"></div>
<a class="skip-link sr-only" href="#skip-target">Skip to content</a>
<div class="page-flex">
  <aside class="sidebar">
    <div class="sidebar-start">
        <div class="sidebar-head">
            <a href="/dashboard" class="logo-wrapper" title="Home">
                <span class="sr-only">Home</span>
                <span class="icon logo" aria-hidden="true"></span>
                <div class="logo-text">
                    <span class="logo-title">TLC</span>
                    <span class="logo-subtitle">Dashboard</span>
                </div>

            </a>
            <button class="sidebar-toggle transparent-btn" title="Menu" type="button">
                <span class="sr-only">Toggle menu</span>
                <span class="icon menu-toggle" aria-hidden="true"></span>
            </button>
        </div>
        <div class="sidebar-body">
            <ul class="sidebar-body-menu">
                <li>
                    <a class="active" href="/dashboard"><span class="icon home" aria-hidden="true"></span>Dashboard</a>
                </li>
                <li>
                    <a class="show-cat-btn" href="##">
                        <span class="icon category" aria-hidden="true"></span>Objetos
                        <span class="category__btn transparent-btn" title="Open list">
                            <span class="sr-only">Open list</span>
                            <span class="icon arrow-down" aria-hidden="true"></span>
                        </span>
                    </a>
                    <ul class="cat-sub-menu">
                        <li>
                            <a href="{{ url_for('object.available_objects') }}">Disponibles</a>
                        </li>
                        <li>
                            <a href="{{ url_for('object.my_objects') }}">Mis Objetos</a>
                        </li>
                        <li>
                            <a href="{{ url_for('object.add_object_page') }}">Agregar Objetos</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="show-cat-btn" href="##">
                        <span class="icon user-3" aria-hidden="true"></span>Intercambios
                        <span class="category__btn transparent-btn" title="Open list">
                            <span class="sr-only">Open list</span>
                            <span class="icon arrow-down" aria-hidden="true"></span>
                        </span>
                    </a>
                    <ul class="cat-sub-menu">
                        <li>
                            <a href="{{ url_for('exchange.pending_exchanges_page') }}">Pendientes</a>
                        </li>
                        <li>
                            <a href="{{ url_for('exchange.complete_exchanges') }}">Completados</a>
                        </li>
                        <li>
                            <a href="{{ url_for('exchange.all_exchanges') }}">Historial</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="show-cat-btn" href="##">
                        <span class="icon notification active" aria-hidden="true"></span>Notificaciones
                    </a>
                    <span class="msg-counter">7</span>
                </li>
                <li>
                    <a class="show-cat-btn" href="##">
                        <span class="icon paper" aria-hidden="true"></span>Valoraciones
                        <span class="category__btn transparent-btn" title="Open list">
                            <span class="sr-only">Open list</span>
                            <span class="icon arrow-down" aria-hidden="true"></span>
                        </span>
                    </a>
                    <ul class="cat-sub-menu">
                        <li>
                            <a href="##">Mis Valoraciones</a>
                        </li>
                        <li>
                            <a href="##">Valorar Intercambios</a>
                        </li>
                        <li>
                            <a href="##">Historial</a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a class="show-cat-btn" href="##">
                      <span class="icon image" aria-hidden="true"></span>Mi Perfil
                      <span class="category__btn transparent-btn" title="Open list">
                          <span class="sr-only">Open list</span>
                          <span class="icon arrow-down" aria-hidden="true"></span>
                      </span>
                  </a>
                  <ul class="cat-sub-menu">
                      <li>
                          <a href="{{ url_for('userinfo.user_info_page') }}">Mi Información</a>
                      </li>
                      <li>
                          <a href="{{ url_for('userdirection.user_direction_page') }}">Mi Dirección</a>
                      </li>
                      <li>
                          <a href="{{ url_for('userhobbies.user_hobbies_page') }}">Mis Gustos</a>
                      </li>
                      <li>
                          <a href="##">Editar Perfil</a>
                      </li>
                  </ul>
              </li>
            </ul>
            <span class="system-menu__title">Más Herramientas</span>
            <ul class="sidebar-body-menu">
                <li>
                    <a href="##"><span class="icon edit" aria-hidden="true"></span>Editar Cuenta</a>
                </li>
                <li>
                    <a href="https://github.com/EdwinJaraOFC/TeLoCambio.git" target="_blank"><span class="icon folder" aria-hidden="true"></span>Repositorio</a>
                </li>
                <li>
                    <a href="https://docs.google.com/document/d/1RNL7qaWbY8q6ZPfI0EF_U-SlXZHsu5Qt_vJE4My_Q4I/edit?usp=sharing" target="_blank"><span class="icon paper" aria-hidden="true"></span>Documentación</a>
                </li>
                <li>
                    <a href="{{ url_for('auth.logout') }}"><span class="icon setting" aria-hidden="true"></span>Cerrar Sesión</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="sidebar-footer">
        <a href="##" class="sidebar-user">
            <span class="sidebar-user-img">
                <picture><source srcset="{{ url_for('static', filename='img/avatar/avatar-illustrated-02.webp') }}" type="image/webp"><img src="{{ url_for('static', filename='img/avatar/avatar-illustrated-01.png') }}" alt="User name"></picture>
            </span>
            <div class="sidebar-user-info">
                <span class="sidebar-user__title">TeLoCambio</span>
                <span class="sidebar-user__subtitle">Área de Soporte</span>
            </div>
        </a>
    </div>
</aside>
  <div class="main-wrapper">
    <!-- ! Main nav -->
    <nav class="main-nav--bg">
  <div class="container main-nav">
    <div class="main-nav-start">
      <div class="search-wrapper">
        <i data-feather="search" aria-hidden="true"></i>
        <input type="text" placeholder="Enter keywords ..." required>
      </div>
    </div>
    <div class="main-nav-end">
      <button class="sidebar-toggle transparent-btn" title="Menu" type="button">
        <span class="sr-only">Toggle menu</span>
        <span class="icon menu-toggle--gray" aria-hidden="true"></span>
      </button>
      <button class="theme-switcher gray-circle-btn" type="button" title="Switch theme">
        <span class="sr-only">Switch theme</span>
        <i class="sun-icon" data-feather="sun" aria-hidden="true"></i>
        <i class="moon-icon" data-feather="moon" aria-hidden="true"></i>
      </button>
      <div class="notification-wrapper">
        <button class="gray-circle-btn dropdown-btn" title="To messages" type="button">
          <span class="sr-only">To messages</span>
          <span class="icon notification active" aria-hidden="true"></span>
        </button>
        <ul class="users-item-dropdown notification-dropdown dropdown">
          <li>
            <a href="##">
              <div class="notification-dropdown-icon info">
                <i data-feather="check"></i>
              </div>
              <div class="notification-dropdown-text">
                <span class="notification-dropdown__title">System just updated</span>
                <span class="notification-dropdown__subtitle">The system has been successfully upgraded. Read more
                  here.</span>
              </div>
            </a>
          </li>
          <li>
            <a href="##">
              <div class="notification-dropdown-icon danger">
                <i data-feather="info" aria-hidden="true"></i>
              </div>
              <div class="notification-dropdown-text">
                <span class="notification-dropdown__title">The cache is full!</span>
                <span class="notification-dropdown__subtitle">Unnecessary caches take up a lot of memory space and
                  interfere ...</span>
              </div>
            </a>
          </li>
          <li>
            <a href="##">
              <div class="notification-dropdown-icon info">
                <i data-feather="check" aria-hidden="true"></i>
              </div>
              <div class="notification-dropdown-text">
                <span class="notification-dropdown__title">New Subscriber here!</span>
                <span class="notification-dropdown__subtitle">A new subscriber has subscribed.</span>
              </div>
            </a>
          </li>
          <li>
            <a class="link-to-page" href="##">Go to Notifications page</a>
          </li>
        </ul>
      </div>
      <div class="nav-user-wrapper">
        <button href="##" class="nav-user-btn dropdown-btn" title="Mi Perfil" type="button">
          <span class="sr-only">Mi Perfil</span>
          <span class="nav-user-img">
            <picture><source srcset="{{ url_for('static', filename='img/avatar/avatar-illustrated-02.webp') }}" type="image/webp"><img src="{{ url_for('static', filename='img/avatar/avatar-illustrated-02.png') }}" alt="User name"></picture>
          </span>
        </button>
        <ul class="users-item-dropdown nav-user-dropdown dropdown">
          <li><a href="##">
              <i data-feather="user" aria-hidden="true"></i>
              <span>Mi Perfil</span>
            </a></li>
          <li><a href="##">
              <i data-feather="settings" aria-hidden="true"></i>
              <span>Editar Cuenta</span>
            </a></li>
          <li><a class="danger" href="{{ url_for('auth.logout') }}">
              <i data-feather="log-out" aria-hidden="true"></i>
              <span>Cerrar Sesión</span>
            </a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>
    <!-- ! Main -->
    <main class="main users chart-page" id="skip-target">
      <div class="container">
        <div class="welcome-section">
          <h2 class="main-title">¡Bienvenido a tu espacio de intercambios!</h2>

          <div class="dashboard-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 40px;">
            <!-- Tarjeta de Bienvenida -->
            <div class="welcome-card" style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); color: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
              <h3 style="font-size: 1.8em; margin-bottom: 15px;">TeLoCambio</h3>
              <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">
                Tu plataforma de intercambios sostenibles y confiables. Dale una segunda vida a tus objetos y descubre tesoros únicos.
              </p>
              <a href="{{ url_for('object.available_objects') }}" style="display: inline-block; background-color: rgba(255,255,255,0.2); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; transition: all 0.3s ease;">
                Explorar Objetos →
              </a>
            </div>

            <!-- Tarjeta de Estadísticas -->
            <div class="stats-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
              <h3 style="font-size: 1.4em; color: #2b2d42; margin-bottom: 20px;">Tus Estadísticas</h3>
              <div class="stats-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="stat-item" style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                  <i data-feather="refresh-cw" style="width: 30px; height: 30px; color: #6366f1; margin-bottom: 10px;"></i>
                  <h4 style="font-size: 1.8em; color: #2b2d42; margin: 5px 0;">0</h4>
                  <p style="color: #6b7280;">Intercambios</p>
                </div>
                <div class="stat-item" style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                  <i data-feather="package" style="width: 30px; height: 30px; color: #8b5cf6; margin-bottom: 10px;"></i>
                  <h4 style="font-size: 1.8em; color: #2b2d42; margin: 5px 0;">0</h4>
                  <p style="color: #6b7280;">Objetos</p>
                </div>
              </div>
            </div>

            <!-- Tarjeta de Acciones Rápidas -->
            <div class="quick-actions" style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
              <h3 style="font-size: 1.4em; color: #2b2d42; margin-bottom: 20px;">Acciones Rápidas</h3>
              <div class="actions-list" style="display: flex; flex-direction: column; gap: 10px;">
                <a href="{{ url_for('object.add_object_page') }}" style="display: flex; align-items: center; padding: 12px; background: rgba(255,255,255,0.2); border-radius: 8px; text-decoration: none; color: white; transition: all 0.3s ease;">
                  <i data-feather="plus-circle" style="width: 20px; height: 20px; margin-right: 10px; color: #6366f1;"></i>
                  Publicar Nuevo Objeto
                </a>
                <a href="{{ url_for('object.my_objects') }}" style="display: flex; align-items: center; padding: 12px; background: rgba(255,255,255,0.2); border-radius: 8px; text-decoration: none; color: white; transition: all 0.3s ease;">
                  <i data-feather="search" style="width: 20px; height: 20px; margin-right: 10px; color: #8b5cf6;"></i>
                  Buscar Objetos
                </a>
                <a href="https://docs.google.com/document/d/1RNL7qaWbY8q6ZPfI0EF_U-SlXZHsu5Qt_vJE4My_Q4I/edit?usp=sharing" style="display: flex; align-items: center; padding: 12px; background: rgba(255,255,255,0.2); border-radius: 8px; text-decoration: none; color: white; transition: all 0.3s ease;">
                  <i data-feather="message-circle" style="width: 20px; height: 20px; margin-right: 10px; color: #6366f1;"></i>
                  Ver Documentación
                </a>
              </div>
            </div>
          </div>

          <!-- Sección de Actividad Reciente -->
          <div class="recent-activity" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-top: 20px;">
            <h3 style="font-size: 1.4em; color: #2b2d42; margin-bottom: 20px;">Actividad Reciente</h3>
            <div class="activity-timeline" style="display: flex; flex-direction: column; gap: 15px;">
              <!-- Las actividades se cargarán dinámicamente -->
              <p style="color: #6b7280; text-align: center; padding: 20px;">No hay actividad reciente para mostrar</p>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- ! Footer -->
    <footer class="footer">
  <div class="container footer--flex">
    <div class="footer-start">
      <p>&copy; {{ current_year }} TeLoCambio. Todos los derechos reservados.</p>
    </div>
    <ul class="footer-end">
      <li><a href="https://github.com/EdwinJaraOFC/TeLoCambio.git">Acerca de</a></li>
      <li><a href="https://github.com/EdwinJaraOFC/TeLoCambio.git">Soporte</a></li>
      <li><a href="{{ url_for('auth.logout') }}">Salir</a></li>
    </ul>
  </div>
</footer>
  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Chart library -->
<script src="{{ url_for('static', filename='plugins/chart.min.js') }}"></script>
<!-- Icons library -->
<script src="{{ url_for('static', filename='plugins/feather.min.js') }}"></script>
<!-- Custom scripts -->
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}